<?php
/**
 * This file is part of YAPEPBase.
 *
 * @package      YapepBaseTest
 * @subpackage   Util
 * @copyright    2011 The YAPEP Project All rights reserved.
 * @license      http://www.opensource.org/licenses/bsd-license.php BSD License
 */

namespace YapepBaseTest\Tests\Util;


use YapepBase\Util\CsvParser;

/**
 * Test class for CsvParser.
 * Generated by PHPUnit on 2012-02-23 at 11:49:26.
 */
class CsvParserTest extends \YapepBaseTest\BaseTest {
	/**
	 * @var CsvParser
	 */
	protected $object;

	public function setUp() {
		parent::setUp();
		$this->object = new \YapepBase\Util\CsvParser();
	}

	public function testParseString() {
		for ($i=1; $i<3; $i++) {
			include(dirname(__FILE__) . '/../TestData/Util/CsvParser/testdata' . $i . '.php');
			$string = file_get_contents(dirname(__FILE__) . '/../TestData/Util/CsvParser/testdata' . $i . '.csv');
			$this->assertEquals($testdata, $this->object->parseString($string),
				'CsvParser parsed testdata' . $i . '.csv wrong');
		}
	}

	public function testParseStringWithHeaders() {
		include(dirname(__FILE__) . '/../TestData/Util/CsvParser/testdataheaders.php');
		$string = file_get_contents(dirname(__FILE__) . '/../TestData/Util/CsvParser/testdataheaders.csv');
		$this->assertEquals($testdata, $this->object->parseStringWithHeaders($string));
	}
}

